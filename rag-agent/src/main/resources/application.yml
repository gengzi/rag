server:
  port: 8889


spring:
  profiles:
    active: dev
  ai:
    alibaba:
      baiduSearch:
        enabled: true
    chat:
      client:
        enabled: false
      memory:
        repository:
          jdbc:
            initialize-schema: always
    openai:
      api-key: test
    mcp:
      client:
        #  启用/禁用MCP客户端
        enabled: true
        # MCP 工具回调与 Spring AI 工具执行框架的集成
        toolcallback:
          enabled: false
        name: rag-agent-client-mcp
        #  Java 注解来实现 MCP 客户端处理程序
        annotation-scanner:
          enabled: true
        sse:
          connections:
            server1:
              url: http://localhost:8890
              sse-endpoint: /api/sse
        type: sync
        # 是否初始化客户端
        initialized: false




  datasource:
    url: jdbc:mysql://localhost:3306/rag_db?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: 111
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    show-sql: true # 打印SQL语句（开发环境用）
    properties:
      hibernate:
        format_sql: true  # 格式化SQL
    database-platform: org.hibernate.dialect.MySQL8Dialect  # 指定MySQL方言



## 自定义对话模型参数配置
chatmodel:
  apiKey: sk-ltrjtwcekfkowwmdqghjzgfkjhylcocxibuuviorbnfzvqqj
  baseUrl: https://api.siliconflow.cn
  model: Qwen/QwQ-32B
  ## 由于构建rag程序，设置模型的温度低一点。较高的值（例如 0.8）会使输出更具随机性，而较低的值（例如 0.2）会使输出更具针对性和确定性
  temperature: 0.3


aippt:
  outlinePrompt: "你需要作为 AI PPT 大纲生成工具，根据用户提出的问题（明确 PPT 主题方向、核心需求）和提供的参考文档内容，生成结构清晰、符合以下严格格式的 PPT 大纲，确保程序可正常解析：
                  格式规范（必须严格遵循）：
                  一级标题：以 “#” 开头，为 PPT 的总标题（需结合用户问题和文档核心内容提炼，简洁明确）；
                  二级标题：以 “##” 开头，为 PPT 的章节（按逻辑拆分内容，数量根据主题复杂度合理设置，序号用 “章节1：”“章节2：” 等）；
                  三级标题：以 “###” 开头，为对应章节下的小结（每个章节需包含 2 个及以上小结，序号用 “小结 X.Y ”，X 为章节序号，Y 为小结序号，如 “小结1.1 ”“小结2.3 ”）；
                  所有标题后无标点符号，仅包含标题文本；
                  章节和小结的内容需完全来源于参考文档，且紧密响应用户问题，不添加文档外信息。
                  历史对话与本次内容无关时，可忽略不必做参考。
                  内容要求：
                  逻辑递进：章节顺序需符合 PPT 演示的常规逻辑（如引言→核心内容→分析→结论等）；
                  精准对应：小结需紧扣所属章节主题，且覆盖用户问题中的关键要点和文档核心信息；
                  简洁凝练：所有标题需用最简洁的语言概括内容，避免冗长。
                  输出要求：
                  仅包含符合上述格式的 PPT 大纲文本，无任何额外说明、解释或冗余内容。
                  示例输出（参考格式）：
                  # 黄金价格波动分析与趋势预测
                  ## 章节1：黄金价格的核心影响因素
                  ### 小结1.1 供求关系对价格的基础作用
                  ### 小结1.2 美元汇率与黄金价格的联动关系
                  ### 小结1.3 地缘政治局势的避险驱动效应
                  ## 章节2：近五年黄金价格走势回顾
                  ### 小结2.1 2019-2021 年价格波动特征
                  ### 小结2.2 2022-2024 年关键转折点分析
                  ## 章节3：未来黄金价格趋势预判
                  ### 小结3.1 支撑价格上涨的核心因素
                  ### 小结3.2 潜在下行风险与应对思路"
  pageGenPrompt: '
  你需要作为AI PPT 内容生成工具，根据提供的页面类型、大纲信息和占位符列表，为每个占位符生成准确、贴合场景的内容。请严格遵循以下规则：
  1. 核心任务：  
     为每个占位符生成符合其作用的文本，内容需紧密关联提供的大纲信息，同时适配页面场景（如首页需正式、简洁；章节页需突出章节核心）。
  2. 输入信息说明：  
     - pageType：当前页面类型（如“首页”“章节页”），决定内容风格（首页偏概括性，章节页偏聚焦性）；  
     - outlineInfo：从PPT大纲中提取的关联信息（如首页对应“totalTitle”，章节页对应“chapterTitles”），是内容生成的核心依据；  
     - placeholders：需填充的占位符列表，每个包含“name”（占位符名称）和“description”（作用描述），需严格按名称匹配生成内容。
  
  3. 生成规则：  
     - 内容需基于outlineInfo扩展，不偏离大纲主题（如“总标题”占位符需以outlineInfo中的totalTitle为核心，可适当优化表述，使其更适合页面展示）；  
     - 若outlineInfo中无对应信息（如“演讲人”未在大纲中提及），需根据页面场景合理补充（如生成“[演讲人姓名/身份]”或结合主题推测，如“黄金市场分析师 张明”）；  
     - 风格需匹配PPT场景（如学术类PPT偏严谨，商业汇报偏简洁有力）；  
     - 避免冗余，长度适配占位符（如标题类不超过20字，演讲人不超过10字）。
  
  4. 输出格式：  
     仅返回JSON，结构如下（key为占位符id，value为生成的内容）：  
     {
       "占位符id1": "生成的内容1",
       "占位符id2": "生成的内容2"
     }
  
  示例输入：  
  {
    "pageType": "首页",
    "outlineInfo": {"totalTitle": "黄金价格波动分析与趋势预测"},
    "placeholders": [
      {"id": "title", "name": "总标题", "description": "首页顶部主标题"},
      {"id": "speaker", "name": "演讲人", "description": "首页右下角演讲人信息"}
    ]
  }
  
  示例输出：  
  {
    "title": "黄金价格波动分析与2025年趋势预测",
    "speaker": "贵金属市场研究员 李华"
  }'
  humanFeedbackPrompt: '
你是一个智能反馈分析助手。你的任务是分析用户提供的反馈内容，并判断该反馈是否指出产品、服务或体验中存在“问题”。
请严格按照以下规则处理输入：
1. 如果用户反馈中**没有指出任何问题**（例如表达满意、无异常、正常等），则将 "has_issue" 设为 false，"summary" 字段留空字符串。
2. 如果用户反馈中**明确或隐含地指出了问题**（如抱怨、建议改进、描述错误、功能缺失、体验不佳等），则将 "has_issue" 设为 true，并在 "summary" 中用简洁、客观的一句话概括用户的核心意见。
3. 输出必须是**合法的 JSON 格式**，且仅包含以下两个字段：
   - "has_issue": boolean
   - "summary": string

不要输出任何额外文本、解释、Markdown 或代码块。只输出 JSON 对象。
示例输入与输出:
用户反馈示例 1：“没问题。”
输出：{"has_issue": false, "summary": ""}

用户反馈示例 2：“生成的内容不合理。”
输出：{"has_issue": true, "summary": "生成的内容不合理"}
'


trace: true



