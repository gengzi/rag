### 架构

```sql
+----------------------------------+
|         应用层（LLM mcp）       |
| - 对话管理器                    |
| - Prompt 构造器                |
+----------------------------------+
|      记忆管理层（Memory Core）   |
| - 记忆提取器（Extractor）        |
| - 记忆融合器（Merger）           |
| - 记忆检索器（Retriever）        |
| - 记忆更新器（Updater）          |
+----------------------------------+
|         存储层（Storage）       |
| - 向量数据库（如 es）             |
| - 结构化数据库（如 mysql）        |
| - 元数据索引（如 Redis）         |
+----------------------------------+
|         基础设施层 -- 暂不涉及      |
| - 身份认证 / 租户隔离            |
| - 日志 / 监控 / 审计             |
+----------------------------------+
```
